{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}Cadastrar Novo Carro - CarFuture Shop{% endblock %}

{% block content %}
<div class="form-container">
  <h1 class="form-title">Cadastrar Novo Carro</h1>
  
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-group">
      <label for="id_model">Modelo</label>
      {{ new_car_form.model|add_class:"form-control" }}
    </div>

    <div class="form-group">
      <label for="id_brand">Marca</label>
      {{ new_car_form.brand|add_class:"form-control" }}
    </div>

    <div class="form-group">
      <label for="id_factory_year">Ano de Fabricação</label>
      {{ new_car_form.factory_year|add_class:"form-control" }}
    </div>

    <div class="form-group">
      <label for="id_model_year">Ano do Modelo</label>
      {{ new_car_form.model_year|add_class:"form-control" }}
    </div>

    <div class="form-group">
      <label for="id_plate">Placa</label>
      {{ new_car_form.plate|add_class:"form-control" }}
    </div>

    <div class="form-group">
      <label for="id_value">Valor (R$)</label>
      {{ new_car_form.value|add_class:"form-control" }}
    </div>

    <div class="form-group">
      <label for="id_photo">Foto do Veículo</label>
      <div class="file-upload">
        {{ new_car_form.photo }}
        <div class="file-button">ESCOLHER ARQUIVO</div>
        <span class="file-name">Nenhum arquivo selecionado</span>
      </div>
    </div>

    <button type="submit" class="btn">Cadastrar</button>
  </form>
</div>

<script>
  document.getElementById('id_photo').addEventListener('change', function(e) {
    const fileName = e.target.files.length 
      ? e.target.files[0].name 
      : "Nenhum arquivo selecionado";
    document.querySelector('.file-name').textContent = fileName;
  });
</script>
{% endblock %}
